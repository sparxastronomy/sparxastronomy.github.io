---
import { Icon } from 'astro-icon/components';
import { Image } from 'astro:assets';
import Button from './button.astro';
const {url, post} = Astro.props;
---
<style>
.post-box {
    position: relative;
    @apply rounded-[20px] border-0;
    overflow: hidden;
    transition: background 0.3s;
    background: linear-gradient(to bottom, #f8fafc, #e0e7ef);
    @apply dark:bg-gradient-to-b dark:from-[#1e293b] dark:to-[#334155];
}

.post-box::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    pointer-events: none;
    border: 3px solid #4f8bda;
    /* Animate the border drawing from the bottom edge */
    clip-path: inset(100% 0% 0% 0% round 20px);
    transition:
      clip-path 0.5s cubic-bezier(.5,1.8,.5,1.15),
      border-color 0.3s;
    z-index: 2;
    opacity: 1;
}

.post-box:hover::before {
    clip-path: inset(0% 0% 0% 0% round 20px);
    border-color: #4f8bda;
}

@media (prefers-color-scheme: dark) {
    .post-box::before {
        border-color: #639ab0;
    }
    .post-box:hover::before {
        border-color: #639ab0;
    }
}
</style>

<a href={url}>
    <div class="post-box w-4/5 md:w-3/4 mx-auto">
        <div class="flex flex-col md:flex-row px-2 py-2 justify-between items-center">
            <div class="overflow-hidden rounded-xl">
                <Image 
                    src={post.data.featuredImage} 
                    alt={post.data.title}
                    sizes="(max-width: 640px) 100vw, (min-width: 641px) 50vw" inferSize 
                    class="transition-transform duration-500 ease-[cubic-bezier(0.25, 1, 0.5, 1)]"
                />
            </div>
            <div class="flex-col text-center font-sans px-2 py-2">
                <p class="heading-3 text-trust-900 dark:text-sky-300">
                    {post.data.title}
                </p>
                <p class="text-justify my-2 md:px-4 font-light text-base md:text-l">
                    {post.data.excerpt}
                </p>
                <Button link={url} label="Read More" />
            </div>  
        </div>
    </div>
</a>